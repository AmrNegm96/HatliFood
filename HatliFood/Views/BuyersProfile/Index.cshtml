@inject UserManager<IdentityUser> UserManager;
@model HatliFood.Models.Buyer

@section Styles{
   <link href="~/css/BuyerProfile.css" rel="stylesheet" />
}
@{
    Buyer buyer = ViewBag.Buyer;
    string fullName = buyer.FirstName + " " + buyer.LastName;
}

<div class="row m-0 buyer-profile">
    
    <!-- dashboard Section -->
    <div class="dashboard col-md-2 col-xs-12 text-light p-0">
        <!-- Profile Section -->
        <h5 class="profile-details pt-4  pb-3">
           @{
            if (@buyer.Gender == 0)
            {
               <img  src="~/Image/Icons/male.png" style="margin-left: 10px; width:50px" class="rounded-circle mb-2"/>

            }
            else
            {
              <img  src="~/Image/Icons/female.png" style="margin-left: 10px; width:50px" class="rounded-circle mb-2"/>

            }
           }
           <br />
           @fullName
       </h5>

        <!-- View Account Details Section -->

        <div class="account-details section-container active mt-4">
            <i class="bi bi-person-vcard mx-2"></i>
            <p class="d-inline-block"> Account </p>
        </div>

        <div class="change-password section-container">
            <i class="bi bi-file-earmark-lock mx-2"></i>
            <p class="d-inline-block"> Change Password  </p>

        </div>

        <div class="change-phone section-container">
            <i class="bi bi-telephone-plus mx-2"></i>
            <p class="d-inline-block"> Change Phone </p>

        </div>

    </div>



    
    
     <div class="col-md">
            <div class=" w-50 mx-auto" id="accountSettingsContainer">
                    <!-- Get Partail Edit View From Buyer Views -->
                    <h4 class="pb-4 text-center"> Account Settings </h4>
                    <div class="d-flex justify-content-center edit-partial-view"  >
                        <form asp-action="Edit" asp-controller="Buyers" asp-route-id="@buyer.UserId">
                             <input type="hidden" name="UserId" value="@buyer.UserId" /> 
                             <partial name="~/Views/Buyers/Edit.cshtml"></partial>
                        </form>
                       
                      

                    </div>
    
            </div>
            
            
           
             <div class="form-group col-6 d-none mt-5 mx-auto" id="changePhoneContainer">
                 <h5 class="text-center mb-3"> Change Phone  </h5>
                <label class="control-label mb-2">Phone</label>
                <input class="form-control mb-4" placeholder="Phone" />
                <a class="btn btn-success" asp-action="UpdatePhone" asp-controller="BuyerProfile">Confirm</a>
             </div>
            
             <div class="form-group col-6 d-none mt-5 mx-auto" id="changePasswordContainer">
                 <h5 class="text-center mb-3"> Change Password </h5>

                <label class="control-label mb-2">Password</label>
                <input class="form-control mb-4" placeholder="New Password" />
                <a class="btn btn-success" asp-action="UpdatePassword" asp-controller="BuyerProfile">Confirm</a>
             </div>


            <div class="my-4 d-none">
                <a class="btn btn-success" asp-route-id="@buyer.UserId" asp-action="Index" asp-controller="Addresses">Manage Your Addresses</a>
            </div>

        </div>
    
</div>

@section Scripts{
    <script src="~/js/BuyerProfile.js">
       
    </script>
}

